{% extends "core/employee_base.html" %}

{% block title %}Employee Dashboard | 15-Five{% endblock %}

{% block content %}

<h1 class="page-title">Employee Dashboard</h1>

<!-- KPI CARD -->
<div class="kpi-card">
    <div class="kpi-icon">âœ“</div>
    <div>
        <div class="kpi-label">Total Check-Ins Submitted</div>
        <div class="kpi-value">{{ submitted_count }}</div>
    </div>
</div>

<h2 class="section-title">Pending Check-Ins</h2>

{% if pending_checkins %}
    {% for assignment in pending_checkins %}
        <div class="checkin-card">
            <div class="checkin-left">
                <div class="checkin-icon warning">â°</div>
                <div>
                    <div class="checkin-title">
                        {{ assignment.checkin_form.title }}
                    </div>
                    <div class="checkin-date">
                        Due {{ assignment.checkin_form.deadline|date:"M d, Y" }}
                    </div>
                </div>
            </div>

            <div class="checkin-right">
                <span class="badge pending">Pending</span>
                <a href="{% url 'employee_checkin_form' assignment.id %}"
                   class="primary-btn">
                    Submit
                </a>
            </div>
        </div>
    {% endfor %}
{% else %}
    <p style="color:#64748b;">No pending check-ins ğŸ‰</p>
{% endif %}

{% if submitted_checkins %}
    <h2 class="section-title">Recently Submitted</h2>

    {% for assignment in submitted_checkins %}
        <div class="checkin-card">
            <div class="checkin-left">
                <div class="checkin-icon success">âœ“</div>
                <div>
                    <div class="checkin-title">
                        {{ assignment.checkin_form.title }}
                    </div>
                    <div class="checkin-date">
                        Due {{ assignment.checkin_form.deadline|date:"M d, Y" }}
                    </div>
                </div>
            </div>

            <div class="checkin-right">
                <span class="badge submitted">Submitted</span>
            </div>
        </div>
    {% endfor %}
{% endif %}

{% endblock %}
