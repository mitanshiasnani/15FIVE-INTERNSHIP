{% extends "core/employee_base.html" %}

{% block title %}My Check-Ins | 15-Five{% endblock %}

{% block content %}

<h1 class="page-title">My Check-Ins</h1>

{% for assignment in assignments %}
    <div class="checkin-card">
        <div class="checkin-left">
            <div class="checkin-icon {% if assignment.status == 'SUBMITTED' %}success{% else %}warning{% endif %}">
                {% if assignment.status == "SUBMITTED" %}✓{% else %}⏰{% endif %}
            </div>
            <div>
                <div class="checkin-title">
                    {{ assignment.checkin_form.start_date|date:"d M Y" }}
                    →
                    {{ assignment.checkin_form.end_date|date:"d M Y" }}
                </div>
                <div class="checkin-date">
                    {{ assignment.checkin_form.title }}
                </div>
            </div>
        </div>

        <div class="checkin-right">
            {% if assignment.status == "SUBMITTED" %}
                <span class="badge submitted">Submitted</span>
                <a href="{% url 'employee_checkin_form' assignment.id %}"
                   class="primary-btn outline">
                    View
                </a>

            {% elif assignment.status == "PARTIAL" %}
                <span class="badge in-progress">Partially Filled</span>
                <a href="{% url 'employee_checkin_form' assignment.id %}"
                   class="primary-btn">
                    Continue
                </a>

            {% else %}
                <span class="badge pending">Pending</span>
                <a href="{% url 'employee_checkin_form' assignment.id %}"
                   class="primary-btn">
                    Submit
                </a>
            {% endif %}
        </div>
    </div>
{% empty %}
    <p style="color:#64748b;">No check-ins available.</p>
{% endfor %}

{% endblock %}
